<!-- backend/templates/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Guru or Furu?</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
<!-- Welcome Screen -->
<div id="welcome-screen" class="screen active">
    <h1>Guru or Furu?</h1>
    <p class="subtitle">Can you really predict the market?</p>
    <button id="start-game-btn">Start Game</button>
</div>

<!-- Loading Screen -->
<div id="loading-screen" class="screen">
    <h2>Loading next stock...</h2>
    <div class="spinner"></div> <!-- Optional: Add a spinner for better UX -->
</div>

<!-- Game Screen -->
<div id="game-screen" class="screen">
    <h2 id="stock-name">Company Name (TICKER)</h2>
    <p id="prediction-question" class="text-lg mt-4 mb-6"></p>
    <div class="chart-container" style="position: relative; height:400px; width:100%; max-width:800px; margin:0 auto;">
        <div id="apex-chart"></div>
    </div>
    <div id="prediction-buttons">
        <button class="predict-btn" data-prediction="up">Up</button>
        <button class="predict-btn" data-prediction="down">Down</button>
    </div>
    <div id="game-stats">
        <p>Score: <span id="score">0</span></p>
    </div>
</div>

<!-- Result Screen -->
<div id="result-screen" class="screen">
    <h2 id="result-title"></h2>
    <p id="result-dates" style="text-align: center; margin-bottom: 10px; font-size: 0.9em; color: #666;"></p>
    <p id="tradingview-link-container" style="text-align: center; margin-bottom: 20px;"></p>
    <div class="chart-container" style="position: relative; height:400px; width:100%; max-width:800px; margin:0 auto;">
        <div id="apex-result-chart"></div>
    </div>
    <p>Points Earned: <span id="points-earned"></span></p>
    <button id="next-round-btn">Next Stock</button>
    <button id="end-game-btn">End Game</button>
</div>

<!-- Game Over Screen -->
<div id="game-over-screen" class="screen">
    <h2>Game Over</h2>
    <div class="stats-container">
        <p>Final Score: <span id="final-score">0</span></p>
        <p>Total Predictions: <span id="total-predictions">0</span></p>
        <p>Correct Predictions: <span id="correct-predictions">0</span></p>
    </div>
    <button id="play-again-btn">Play Again</button>
    <button id="game-over-home-btn">Back to Home</button>
</div>

<!-- Error Screen -->
<div id="error-screen" class="screen">
    <h2>Error</h2>
    <p id="error-message">An error occurred while fetching stock data.</p>
    <button id="retry-btn">Try Again</button>
    <button id="back-home-btn">Back to Home</button>
</div>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
